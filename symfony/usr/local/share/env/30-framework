#!/bin/bash

export PHP_MEMORY_LIMIT=${PHP_MEMORY_LIMIT:-256M}
export PHP_OPCACHE_MAX_ACCELERATED_FILES=${PHP_OPCACHE_MAX_ACCELERATED_FILES:-20000}
export PHP_REALPATH_CACHE_SIZE=${PHP_REALPATH_CACHE_SIZE:-4096K}
export PHP_REALPATH_CACHE_TTL=${PHP_REALPATH_CACHE_TTL:-600}
SYMFONY_WEB_APP_ENV_REWRITE=${SYMFONY_WEB_APP_ENV_REWRITE:-false}
SYMFONY_WEB_APP_ENV_REWRITE="$(convert_to_boolean_string "$SYMFONY_WEB_APP_ENV_REWRITE")"
export SYMFONY_WEB_APP_ENV_REWRITE

if [ "$SYMFONY_ENV" == "prod" ] || [ "$SYMFONY_WEB_APP_ENV_REWRITE" != "true" ]; then
    DEFAULT_SYMFONY_APP_ENDPOINT=/app.php
else
    DEFAULT_SYMFONY_APP_ENDPOINT=/app_${SYMFONY_ENV}.php
fi

export SYMFONY_APP_ENDPOINT=${SYMFONY_APP_ENDPOINT:-${DEFAULT_SYMFONY_APP_ENDPOINT}}

export TIDEWAYS_FRAMEWORK=${TIDEWAYS_FRAMEWORK:-symfony}

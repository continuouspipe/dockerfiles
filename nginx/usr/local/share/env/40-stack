#!/bin/bash

export APP_USER=${APP_USER:-www-data}
export APP_GROUP=${APP_GROUP:-www-data}

export START_NGINX=${START_NGINX:-true}

export WORK_DIRECTORY=${WORK_DIRECTORY:-/app}
export WEB_DIRECTORY=${WEB_DIRECTORY:-web}

export WEB_HOST=${WEB_HOST:-localhost}
export WEB_HTTP_PORT=${WEB_HTTP_PORT:-80}
export WEB_HTTPS=${WEB_HTTPS:-true}
export WEB_HTTP=${WEB_HTTP:-true}
export WEB_HTTPS_PORT=${WEB_HTTPS_PORT:-443}
export WEB_HTTPS_OFFLOADED=${WEB_HTTPS_OFFLOADED:-false}
export WEB_REVERSE_PROXIED=${WEB_REVERSE_PROXIED:-${WEB_HTTPS_OFFLOADED}}
export WEB_SSL_FULLCHAIN=${WEB_SSL_FULLCHAIN:-/etc/ssl/certs/fullchain.pem}
export WEB_SSL_PRIVKEY=${WEB_SSL_PRIVKEY:-/etc/ssl/certs/privkey.pem}

export AUTH_HTTP_ENABLED=${AUTH_HTTP_ENABLED:-}
export AUTH_HTTP_REALM=${AUTH_HTTP_REALM:-Protected System}
export AUTH_HTTP_FILE=${AUTH_HTTP_FILE:-/etc/nginx/htpasswd}
export AUTH_HTTP_REMOTE_URL=${AUTH_HTTP_REMOTE_URL:-}
export AUTH_HTTP_HTPASSWD=${AUTH_HTTP_HTPASSWD:-}
export AUTH_HTTP_HEALTHCHECK_USER_AGENT=${AUTH_HTTP_HEALTHCHECK_USER_AGENT:-}
export AUTH_HTTP_HEALTHCHECK_LOCATION=${AUTH_HTTP_HEALTHCHECK_LOCATION:-}
export AUTH_IP_WHITELIST_ENABLED=${AUTH_IP_WHITELIST_ENABLED:-}
export AUTH_IP_WHITELIST=${AUTH_IP_WHITELIST:-
  127.0.0.0/8,
  ::1
}

export EXTERNAL_LOAD_BALANCER_IP=${EXTERNAL_LOAD_BALANCER_IP:-}
export TRUSTED_REVERSE_PROXIES=${TRUSTED_REVERSE_PROXIES:-}

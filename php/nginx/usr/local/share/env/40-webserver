#!/bin/bash

export PHP_MEMORY_LIMIT_CLI=${PHP_MEMORY_LIMIT_CLI:--1}

export PHPFPM_MAX_CHILDREN=${PHPFPM_MAX_CHILDREN:-5}
export PHPFPM_START_SERVERS=${PHPFPM_START_SERVERS:-2}
export PHPFPM_MIN_SPARE_SERVERS=${PHPFPM_MIN_SPARE_SERVERS:-1}
export PHPFPM_MAX_SPARE_SERVERS=${PHPFPM_MAX_SPARE_SERVERS:-3}

START_NGINX="$(convert_to_boolean_string "${START_NGINX:-${START_MODE_WEB:-false}}")"
export START_NGINX
START_PHP_FPM="$(convert_to_boolean_string "${START_PHP_FPM:-${START_MODE_WEB:-false}}")"
export START_PHP_FPM

export WEB_INCLUDES=${WEB_INCLUDES:-default-*}
WEB_DEFAULT_SERVER="$(convert_to_boolean_string "${WEB_DEFAULT_SERVER:-true}")"
export WEB_DEFAULT_SERVER

export WEB_SERVER_NAME=${WEB_SERVER_NAME:-_}
export WEB_SSL_PROTOCOLS=${WEB_SSL_PROTOCOLS:-TLSv1 TLSv1.1 TLSv1.2}

export AUTH_HTTP_FILE=${AUTH_HTTP_FILE:-/etc/nginx/htpasswd}

export NGINX_LOG_FORMAT_NAME=${NGINX_LOG_FORMAT_NAME:-combined}
